---
import BaseLayout from './BaseLayout.astro';

export interface Props {
  frontmatter: {
    title: string;
    description?: string;
    date?: string;
    author?: string;
    tags?: string[];
  };
}

const { frontmatter } = Astro.props;
const { title, description, date, author = "Kant Nguyễn", tags = [] } = frontmatter;
---

<BaseLayout title={title} description={description}>
  <div class="min-h-screen bg-bgLight dark:bg-bgDark">
    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/80 dark:bg-bgDark/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700">
      <div class="max-w-4xl mx-auto px-4 py-4">
        <div class="flex items-center justify-between">
          <a href="/" class="text-xl font-bold gradient-text">Kant Nguyễn</a>
          <a href="/blog" class="text-primary hover:text-accent transition-colors">
            ← Back to Blog
          </a>
        </div>
      </div>
    </nav>

    <!-- Article Header -->
    <header class="max-w-4xl mx-auto px-4 py-12">
      <div class="text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-4 gradient-text">
          {title}
        </h1>
        {description && (
          <p class="text-xl text-gray-600 dark:text-gray-300 mb-6">
            {description}
          </p>
        )}
        <div class="flex items-center justify-center gap-4 text-sm text-gray-500 dark:text-gray-400">
          <span>By {author}</span>
          {date && (
            <>
              <span>•</span>
              <time datetime={date}>
                {new Date(date).toLocaleDateString('vi-VN', {
                  year: 'numeric',
                  month: 'long',
                  day: 'numeric'
                })}
              </time>
            </>
          )}
        </div>
        {tags.length > 0 && (
          <div class="flex flex-wrap justify-center gap-2 mt-4">
            {tags.map(tag => (
              <span class="px-3 py-1 bg-primary/10 text-primary rounded-full text-sm">
                {tag}
              </span>
            ))}
          </div>
        )}
      </div>
    </header>

    <!-- Article Content -->
    <main class="max-w-4xl mx-auto px-4 pb-12">
      <article class="prose prose-lg max-w-none dark:prose-invert">
        <slot />
      </article>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-50 dark:bg-gray-900 py-8">
      <div class="max-w-4xl mx-auto px-4 text-center">
        <p class="text-gray-600 dark:text-gray-400 mb-4">
          "Work hard in silence — let success make noise."
        </p>
        <div class="flex justify-center gap-6">
          <a href="https://github.com/KhoiNguyendes23" target="_blank" rel="noopener noreferrer" 
             class="text-gray-600 dark:text-gray-400 hover:text-primary transition-colors">
            GitHub
          </a>
          <a href="https://www.linkedin.com/in/nguyen-dang-khoi-6247a337b/" target="_blank" rel="noopener noreferrer"
             class="text-gray-600 dark:text-gray-400 hover:text-primary transition-colors">
            LinkedIn
          </a>
          <a href="mailto:khoind82@gmail.com"
             class="text-gray-600 dark:text-gray-400 hover:text-primary transition-colors">
            Email
          </a>
        </div>
      </div>
    </footer>
  </div>
</BaseLayout>
